# CI/CD

> Допустим, что данный скрипт необходимо выполнять регулярно. В пояснительной записке предложите вариант реализации CI/CD для подобного сервиса

Сначала мы загоняем этот код в репозиторий. Потом подключаем к репозиторию какой угодно сервис непрерывной интеграции, к примеру, CircleCI. Пусть просто выполняет команду `python3 -m unittest` на каждом пуше, этого хватит. Так мы будем знать, что разработчики не ломают эту штуку правками

Потом мы поручаем какому-нибудь стажёру раз в день в определённое время выполнять этот скрипт со своего компа, копировать его выхлоп и отправлять по почте групповым письмом всем заинтересованным, либо скидывать в общий канал или ещё как-то. Это будет занимать у него пять минут, но это сэкономит нам деньги, которые мы бы потратили на разработку автоматического сервиса силами серьёзных разработчиков. Если стажёр хороший, то скорее всего он как-нибудь сам это автоматизирует. Если эта штука оказалась никому не нужна, то мы потеряем немного

Если эта штука реально сильно нужна и важно доделать её до серьёзного сервиса, то сперва надо прикрутить автоматическую отправку результатов, к примеру, через почтовый сервер или через АПИ какого-нибудь мессенджера. После этого нужно поставить этот скрипт выполняться раз в день по крону на нашем сервере. Учитывая, что этот скрипт не хранит состояния и ему для работы нужен только «Питон» и токен, можно попробовать запускать его не на нашем сервере, а на каком-нибудь модном амазоновском серверлесе или типа того, будет о чём рассказать на конференциях

Раз у нас уже работает сервис непрерывной интеграции, который тестирует код скрипта, то в теории можно сделать и автоматическое выкладывание свежей версии. Я считаю, что не нужно сразу этого делать, пусть разработчики первое время сами обновляют руками после правок. Причина в том, что по моему опыту такие скрипты зачастую пишутся один раз и работают без правок месяцами. Нет смысла делать сразу автоматическую выкладку, потому что она может съесть больше времени, чем сэкономит в будущем. Но если скрипт будут реально часто править, тогда наверное надо делать выкладку после каждого мёржа в мастер
